<!DOCTYPE html>
<html lang="pt=br">
<head>
    <meta charset="UTF-8">
    <title>Details</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/2.3.0/alpine-ie11.js" integrity="sha512-6m6AtgVSg7JzStQBuIpqoVuGPVSAK5Sp/ti6ySu6AjRDa1pX8mIl1TwP9QmKXU+4Mhq/73SzOk6mbNvyj9MPzQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



</head>

<style>

    .cifra{
        color : orange;
        font-weight : 600;
    }

</style>

<body>

    {% include "parciais/header.html" %}

    <div class="song-detail-box">
        <h1>{{song.title}}</h1>
        <h2>{{song.artist}}</h2>
        <p  id="song_chord" style="white-space:pre-wrap;">{{song.chords}}</p>
        <h4>{{song.tuning}}</h4>
        <h4>{{song.key}}</h4>
        <h4>{{song.description}}</h4>
        <h4>{{song.author}}</h4>
        

    </div>

    <div class="button-box">
        <a href="{% url 'update_song' song.id%}">editar cifra</a>
    </div>

    <div class="button-box">
        <a href="{% url 'delete_song' song.id%}">arquivar cifra</a>
    </div>

    <script>
    const letra = document.getElementById('song_chord');
    const conteudo = letra.innerHTML;

    const padraoCifra = /\[([^\]]*)\]/g;

    const cifraCorrigida = conteudo.replace(padraoCifra, (match, cifra) => {
        return '<span class="cifra">' + cifra + '</span>';
    });

    letra.innerHTML = cifraCorrigida;

    </script>

</body>





</html>